*Title page
    Jordan Chubb 62646119
    Vincent

*Percentage contribution:
    Jordan 60 to 70%
    Vincent

*List of contributions:
    Jordan
        configuration file processing
        routing table classes

    Vincent
        timers
        packets

*Testing discussion

*Example configuration file

*Source code (daemon.py, ripmanager.py, configmanager.py)



automatic testing using a program which spawns multiple routers as a seperate process.

Network topology is automatically generated by the program, configs are written, and then the daemons are started.

All the configs are tested that they are all compatible, this includes checking that the router id's are unique, and that each incoming and outgoing port matches with one other router, and that the outgoing port metric and id matches with the corresponsing neighbours incoming port.

Each router is then started and monitored using its stdout, which transfers info about its routing table.
For each router, a minimum spanning tree is generated to every other router using Dijkstra's algorithm. For each node in the minimum spanning tree with a cost < 16 is checked to exist in the routing table with the exact same cost.

Automatic testing using:
 100 fully connected routers (each router connects to every other router).
 100 sparsely connected routers (each router connects to one other random router)
 Routers are made to be 'down' or 'up' randomly, and then convergence is checked.


During automatic testing is was discovered that convergence would take some time after stopping random routers. We thought that this was being caused by the routers waiting for routes to timeout before updating them.
In section 3.9.2 of the RIP RFC, there is an optional heuristic that switches to a new route if the metric is the same and it's at least halfway to expirary.
We thought that this may improve this problem, so we implemented it but found that it did not improve the problem much.  We then considered it to be caused by a large amount of triggered updates being sent by routers, causing other routers to also send triggered updates.
In section 3.10.1 RFC it describes a timeout of 1 to 5 seconds for triggered updates in order to prevent a large amount of traffic. We implemented this and found that there was a massive decrease in in cpu usage during the convergence process.

We tested a router with two routes of equal cost to a destination, and when making the next-hop on one of the paths down, the router would switch to using the other path once the route is over halfway to expiration.


config file correctness is checked thoroughly and these functions are tested also. This also ensures that the configuration files generated by the  automatic testing program are valid too.


Tested malformed packets. We expect malformed packets to be ignored. When tested with malformed packets, they were correctly ignored and did not cause the daemon to crash.


